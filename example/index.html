<!DOCTYPE html>
<html>

<head>
	<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
	<meta charset="utf-8"/>
	<meta name="viewport"
		  content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"
	/>
	<link rel="stylesheet" href="../css/default-skin.css">
	<link rel="stylesheet" href="../css/photoswipe.css">
</head>

<body>
<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

	<!-- Background of PhotoSwipe.
			 It's a separate element as animating opacity is faster than rgba(). -->
	<div class="pswp__bg"></div>

	<!-- Slides wrapper with overflow:hidden. -->
	<div class="pswp__scroll-wrap">

		<!-- Container that holds slides.
				PhotoSwipe keeps only 3 of them in the DOM to save memory.
				Don't modify these 3 pswp__item elements, data is added later on. -->
		<div class="pswp__container">
			<div class="pswp__item"></div>
			<div class="pswp__item"></div>
			<div class="pswp__item"></div>
		</div>

		<!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
		<div class="pswp__ui pswp__ui--hidden">

			<div class="pswp__top-bar">

				<!--  Controls are self-explanatory. Order can be changed. -->

				<div class="pswp__counter"></div>

				<button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

				<button class="pswp__button pswp__button--share" title="Share"></button>

				<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

				<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

				<!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
				<!-- element will get class pswp__preloader--active when preloader is running -->
				<div class="pswp__preloader">
					<div class="pswp__preloader__icn">
						<div class="pswp__preloader__cut">
							<div class="pswp__preloader__donut"></div>
						</div>
					</div>
				</div>
			</div>

			<div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
				<div class="pswp__share-tooltip"></div>
			</div>

			<button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
			</button>

			<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
			</button>

			<div class="pswp__caption">
				<div class="pswp__caption__center"></div>
			</div>

		</div>

	</div>

</div>
<script src="../js/CustomPhotoSwipe-4.1.1.js"></script>
<script>
	(function () {
		var pswpElement = document.querySelectorAll('.pswp')[0];

		// build items array
		var items = [
			{
				src: '../assets/img/long_pic.jpg',
				w: 398,
				h: 5000,
				scaleMode: 'adjustWidth'
			}
		];

		// define options (if needed)
		var options = {
			// optionName: 'option value'
			// for example:
			index: 0, // start at first slide
			closeOnScroll: false,
			pinchToClose: false,
			closeOnVerticalDrag: false
		};

		// Initializes and opens PhotoSwipe
		var gallery = new PhotoSwipe(pswpElement, null, items, options);
		gallery.init();

		setTimeout(function () {
			var appendQueue = [];

			for (var i = 0; i < 5; i ++) {
				appendQueue.push({
					html: '<div style="background-image: url(https://placekitten.com/1200/900);background-size: cover;"></div>',
					w: 1200,
					h: 900
				});
			}

			if (gallery) {
				// 动态添加时建议再`mainScrollAnimComplete`中添加，否则可能添加失败
				// gallery.listen('mainScrollAnimComplete', function () {
				// 	if (gallery) {
				// 		if (appendQueue.length > 0 && gallery.appendItems(appendQueue)) {
				// 			appendQueue = [];
				// 		}
				// 	}
				// });
				if (appendQueue.length > 0 && gallery.prependItems(appendQueue)) {
					appendQueue = [];
				}
			}
		}, 3000);
	})();
</script>
</body>

</html>